{"version":3,"file":"shape.js","sources":["../src/shape.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Material Style (v3.0.0): shape.js\n * Licensed under MIT (https://github.com/materialstyle/materialstyle/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component'\nimport {\n  defineJQueryPlugin\n} from './util/index'\n\n/**\n * --------------------------------------------------------------------------\n * Constants\n * --------------------------------------------------------------------------\n */\n\nconst NAME = 'shape'\nconst VERSION = '3.0.0'\n\nconst DIVISOR = 2\n\nclass Shape extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._element = element\n    this._topLeftAngle = element.querySelector('.angle-top-left')\n    this._topRightAngle = element.querySelector('.angle-top-right')\n    this._bottomLeftAngle = element.querySelector('.angle-bottom-left')\n    this._bottomRightAngle = element.querySelector('.angle-bottom-right')\n    this.initShape()\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static jQueryInterface() {\n    return this.each(function () {\n      Shape.getOrCreateInstance(this)\n    })\n  }\n\n  initShape() {\n    this.setShapeColor()\n    this.setShapeSize()\n  }\n\n  setShapeColor() {\n    let shapeColor = this._element.className.match(/shape-parent-bg-\\S+/)\n\n    if (shapeColor) {\n      shapeColor = shapeColor[0].replace('shape-parent-', '')\n\n      if (this._topLeftAngle) {\n        this._topLeftAngle.classList.add(shapeColor)\n      }\n\n      if (this._topRightAngle) {\n        this._topRightAngle.classList.add(shapeColor)\n      }\n\n      if (this._bottomLeftAngle) {\n        this._bottomLeftAngle.classList.add(shapeColor)\n      }\n\n      if (this._bottomRightAngle) {\n        this._bottomRightAngle.classList.add(shapeColor)\n      }\n    }\n  }\n\n  setShapeSize() {\n    let bottomLeftWidth = 0\n    let bottomRightWidth = 0\n    let topLeftWidth = 0\n    let topRightWidth = 0\n\n    if (this._topLeftAngle) {\n      topLeftWidth = this._topLeftAngle.className.match(/size-\\S+/)\n      if (topLeftWidth) {\n        topLeftWidth = Number.parseInt(topLeftWidth[0].replace('size-', ''), 10)\n      }\n    }\n\n    if (this._topRightAngle) {\n      topRightWidth = this._topRightAngle.className.match(/size-\\S+/)\n      if (topRightWidth) {\n        topRightWidth = Number.parseInt(topRightWidth[0].replace('size-', ''), 10)\n      }\n    }\n\n    if (this._bottomLeftAngle) {\n      bottomLeftWidth = this._bottomLeftAngle.className.match(/size-\\S+/)\n      if (bottomLeftWidth) {\n        bottomLeftWidth = Number.parseInt(bottomLeftWidth[0].replace('size-', ''), 10)\n      }\n    }\n\n    if (this._bottomRightAngle) {\n      bottomRightWidth = this._bottomRightAngle.className.match(/size-\\S+/)\n\n      if (bottomRightWidth) {\n        bottomRightWidth = Number.parseInt(bottomRightWidth[0].replace('size-', ''), 10)\n      }\n    }\n\n    if (topLeftWidth) {\n      this._topLeftAngle.style.top = `${-(topLeftWidth / DIVISOR)}px`\n      this._topLeftAngle.style.left = `${-(topLeftWidth / DIVISOR)}px`\n      this._topLeftAngle.style.width = `${topLeftWidth}px`\n      this._topLeftAngle.style.height = `${topLeftWidth}px`\n    }\n\n    if (topRightWidth) {\n      this._topRightAngle.style.top = `${-(topRightWidth / DIVISOR)}px`\n      this._topRightAngle.style.right = `${-(topRightWidth / DIVISOR)}px`\n      this._topRightAngle.style.width = `${topRightWidth}px`\n      this._topRightAngle.style.height = `${topRightWidth}px`\n    }\n\n    if (bottomLeftWidth) {\n      this._bottomLeftAngle.style.bottom = `${-(bottomLeftWidth / DIVISOR)}px`\n      this._bottomLeftAngle.style.left = `${-(bottomLeftWidth / DIVISOR)}px`\n      this._bottomLeftAngle.style.width = `${bottomLeftWidth}px`\n      this._bottomLeftAngle.style.height = `${bottomLeftWidth}px`\n    }\n\n    if (bottomRightWidth) {\n      this._bottomRightAngle.style.bottom = `${-(bottomRightWidth / DIVISOR)}px`\n      this._bottomRightAngle.style.right = `${-(bottomRightWidth / DIVISOR)}px`\n      this._bottomRightAngle.style.width = `${bottomRightWidth}px`\n      this._bottomRightAngle.style.height = `${bottomRightWidth}px`\n    }\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\ndefineJQueryPlugin(Shape)\n\nexport default Shape\n"],"names":["NAME","VERSION","DIVISOR","Shape","BaseComponent","constructor","element","_element","_topLeftAngle","querySelector","_topRightAngle","_bottomLeftAngle","_bottomRightAngle","initShape","jQueryInterface","each","getOrCreateInstance","setShapeColor","setShapeSize","shapeColor","className","match","replace","classList","add","bottomLeftWidth","bottomRightWidth","topLeftWidth","topRightWidth","Number","parseInt","style","top","left","width","height","right","bottom","defineJQueryPlugin"],"mappings":"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"}