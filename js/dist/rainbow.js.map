{"version":3,"file":"rainbow.js","sources":["../src/rainbow.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Material Style (v3.0.0): rainbow.js\n * Licensed under MIT (https://github.com/materialstyle/materialstyle/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component'\nimport EventHandler from './dom/event-handler'\nimport SelectorEngine from './dom/selector-engine'\nimport {\n  defineJQueryPlugin\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'rainbow'\nconst VERSION = '3.0.0'\nconst DATA_KEY = 'bs.rainbow'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nclass Rainbow extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._element = element\n    this.initRainbow()\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static jQueryInterface() {\n    return this.each(function () {\n      Rainbow.getOrCreateInstance(this)\n    })\n  }\n\n  initRainbow() {\n    const colorBars = this._element.querySelectorAll('.color-bar')\n    const barCount = colorBars.length\n\n    for (let i = 0; i < barCount; i++) {\n      colorBars[i].style.animation = `m-rainbow ${barCount}s cubic-bezier(0.165, 0.84, 0.44, 1) ${i}s infinite`\n    }\n  }\n}\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const el of SelectorEngine.find('.progress-bar-rainbow')) {\n    Rainbow.getOrCreateInstance(el)\n  }\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\ndefineJQueryPlugin(Rainbow)\n\nexport default Rainbow\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_LOAD_DATA_API","Rainbow","BaseComponent","constructor","element","_element","initRainbow","jQueryInterface","each","getOrCreateInstance","colorBars","querySelectorAll","barCount","length","i","style","animation","EventHandler","on","window","el","SelectorEngine","find","defineJQueryPlugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EASA;EACA;EACA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,SAAb,CAAA;EACA,MAAMC,OAAO,GAAG,OAAhB,CAAA;EACA,MAAMC,QAAQ,GAAG,YAAjB,CAAA;EACA,MAAMC,SAAS,GAAI,CAAGD,CAAAA,EAAAA,QAAS,CAA/B,CAAA,CAAA;EACA,MAAME,YAAY,GAAG,WAArB,CAAA;EACA,MAAMC,mBAAmB,GAAI,CAAA,IAAA,EAAMF,SAAU,CAAA,EAAEC,YAAa,CAA5D,CAAA,CAAA;;EAEA,MAAME,OAAN,SAAsBC,8BAAtB,CAAoC;IAClCC,WAAW,CAACC,OAAD,EAAU;EACnB,IAAA,KAAA,CAAMA,OAAN,CAAA,CAAA;MACA,IAAKC,CAAAA,QAAL,GAAgBD,OAAhB,CAAA;EACA,IAAA,IAAA,CAAKE,WAAL,EAAA,CAAA;EACD,GAAA;;EAEc,EAAA,WAAJX,IAAI,GAAG;EAChB,IAAA,OAAOA,IAAP,CAAA;EACD,GAAA;;EAEiB,EAAA,WAAPC,OAAO,GAAG;EACnB,IAAA,OAAOA,OAAP,CAAA;EACD,GAAA;;EAEqB,EAAA,OAAfW,eAAe,GAAG;MACvB,OAAO,IAAA,CAAKC,IAAL,CAAU,YAAY;QAC3BP,OAAO,CAACQ,mBAAR,CAA4B,IAA5B,CAAA,CAAA;EACD,KAFM,CAAP,CAAA;EAGD,GAAA;;EAEDH,EAAAA,WAAW,GAAG;MACZ,MAAMI,SAAS,GAAG,IAAKL,CAAAA,QAAL,CAAcM,gBAAd,CAA+B,YAA/B,CAAlB,CAAA;;EACA,IAAA,MAAMC,QAAQ,GAAGF,SAAS,CAACG,MAA3B,CAAA;;MAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAApB,EAA8BE,CAAC,EAA/B,EAAmC;EACjCJ,MAAAA,SAAS,CAACI,CAAD,CAAT,CAAaC,KAAb,CAAmBC,SAAnB,GAAgC,CAAYJ,UAAAA,EAAAA,QAAS,CAAuCE,qCAAAA,EAAAA,CAAE,CAA9F,UAAA,CAAA,CAAA;EACD,KAAA;EACF,GAAA;;EA5BiC,CAAA;;AA+BpCG,+BAAY,CAACC,EAAb,CAAgBC,MAAhB,EAAwBnB,mBAAxB,EAA6C,MAAM;IACjD,KAAK,MAAMoB,EAAX,IAAiBC,+BAAc,CAACC,IAAf,CAAoB,uBAApB,CAAjB,EAA+D;MAC7DrB,OAAO,CAACQ,mBAAR,CAA4BW,EAA5B,CAAA,CAAA;EACD,GAAA;EACF,CAJD,CAAA,CAAA;EAMA;EACA;EACA;EACA;EACA;;AAEAG,0BAAkB,CAACtB,OAAD,CAAlB;;;;;;;;"}